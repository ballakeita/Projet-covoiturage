<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SoraDrive ‚Äì Tableau de bord</title>
  <link rel="stylesheet" href="gestionTrajets.css">
</head>

<body>
  <!-- NAVBAR UNIFI√âE -->
  <header class="main-header">
    <a href="home.html" class="logo">
      <div class="sora-logo" aria-label="SoraDrive"></div>
    </a>

    <div class="search-container">
      <form id="searchForm" action="./searchResults.html" method="GET">
        <input
          type="text"
          name="query"
          id="searchInput"
          placeholder="Recherche de trajets..."
        />
        <button type="submit">üîç</button>
      </form>
    </div>

    <nav class="main-nav">
      <a href="home.html">Accueil</a>
      <a href="gestionTrajets.html" class="active">Trajets</a>
      <a href="./profil.html">Profil</a>
      <a href="Contact.html">Contact</a>
    </nav>
  </header>

  <!-- CONTENU -->
  <main class="layout">
    <div class="card list">
      <div class="card-header">
        <h2>Mes Trajets</h2>
        <button class="add-btn" id="open-add">Ajouter</button>
      </div>
      <ul>
        <li data-href="infoTrajets.html">Trajet 1</li>
        <li data-href="infoTrajets.html">Trajet 2</li>
        <li data-href="infoTrajets.html">Trajet 3</li>
      </ul>
    </div>

    <div class="card list">
      <div class="card-header">
        <h2>Mes R√©servations</h2>
      </div>
      <ul>
        <li data-href="annulerTrajets.html">R√©servation 1</li>
        <li data-href="annulerTrajets.html">R√©servation 2</li>
        <li data-href="annulerTrajets.html">R√©servation 3</li>
      </ul>
    </div>

    <aside class="card sidebar pub">
      <h2>PUB ?</h2>
      <img src="pub-logo.png" alt="Logo Pub">
      <p>Texte Pub</p>
    </aside>
  </main>

  <!-- MODAL PARTAG√â -->
  <div class="modal" id="modal">
    <div class="modal-content">
      <button class="modal-close" id="modal-close">√ó</button>
      <iframe id="modal-iframe" src=""></iframe>
    </div>
  </div>

  <script>
    function openModal(url) {
      const m = document.getElementById('modal'),
            f = document.getElementById('modal-iframe');
      f.src = url;
      m.classList.add('open');
    }
    function closeModal() {
      const m = document.getElementById('modal'),
            f = document.getElementById('modal-iframe');
      f.src = '';
      m.classList.remove('open');
    }

    document.querySelectorAll('.layout .card.list:first-child ul li')
      .forEach(item => item.addEventListener('click', () => openModal(item.dataset.href)));
    document.querySelectorAll('.layout .card.list:nth-child(2) ul li')
      .forEach(item => item.addEventListener('click', () => openModal(item.dataset.href)));

    document.getElementById('open-add')
      .addEventListener('click', () => openModal('createTrajets.html'));

    document.getElementById('modal-close')
      .addEventListener('click', closeModal);
  </script>
</body>

</html>
