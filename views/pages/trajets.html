<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SoraDrive ‚Äì Tableau de bord</title>
  <link rel="stylesheet" href="trajets.css">
</head>
<body>
  <header>
    <div class="branding">
      <img src="logo.png" alt="Logo SoraDrive">
      <span class="brand-text">SoraDrive</span>
    </div>
    <div class="search">
      <input class="search-input" type="text" placeholder="Search‚Ä¶">
      <button class="btn-search" aria-label="Rechercher">üîç</button>
    </div>
    <nav class="nav-links">
      <a href="#">Accueil</a>
      <a href="#">Pr√©sentation</a>
      <a href="#">Profil</a>
      <a href="#">Contact</a>
    </nav>
  </header>

  <main class="layout">
    <div class="card list">
      <div class="card-header">
        <h2>Mes Trajets</h2>
        <!-- on ajoute un ID pour le bouton -->
        <button class="add-btn" id="open-add">Ajouter</button>
      </div>
      <ul>
        <li data-href="reserve.html">Trajet 1</li>
        <li data-href="reserve.html">R√©sultat recherche 2</li>
        <li data-href="reserve.html">R√©sultat recherche 3</li>
      </ul>
    </div>

    <div class="card list">
      <div class="card-header">
        <h2>Mes R√©servations</h2>
      </div>
      <ul>
        <li data-href="reserve.html">R√©sultat recherche 1</li>
        <li data-href="reserve.html">R√©sultat recherche 2</li>
        <li data-href="reserve.html">R√©sultat recherche 3</li>
      </ul>
    </div>

    <aside class="card sidebar pub">
      <h2>PUB ?</h2>
      <img src="pub-logo.png" alt="Logo Pub">
      <p>Texte Pub</p>
    </aside>
  </main>

  <!-- modal partag√© -->
  <div class="modal" id="modal">
    <div class="modal-content">
      <button class="modal-close" id="modal-close">√ó</button>
      <iframe id="modal-iframe" src=""></iframe>
    </div>
  </div>

  <script>
    // ouvre un modal avec l'URL pass√©e
    function openModal(url) {
      const m = document.getElementById('modal');
      const f = document.getElementById('modal-iframe');
      f.src = url;
      m.classList.add('open');
    }
    // ferme le modal
    function closeModal() {
      const m = document.getElementById('modal');
      const f = document.getElementById('modal-iframe');
      f.src = '';
      m.classList.remove('open');
    }

    // clic sur un trajet => reserve.html
    document.querySelectorAll('.list ul li').forEach(item => {
      item.addEventListener('click', () => openModal(item.dataset.href));
    });

    // clic sur Ajouter => create_trajet.html
    document.getElementById('open-add')
            .addEventListener('click', () => openModal('create_trajet.html'));

    // fermeture du modal
    document.getElementById('modal-close')
            .addEventListener('click', closeModal);
  </script>
</body>
</html>
